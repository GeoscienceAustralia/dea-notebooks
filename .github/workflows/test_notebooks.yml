
name: Test notebooks

on:
  push:
    branches: [ develop, stable, nbtests ]
  pull_request:
    branches: [ develop, stable ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Set up Datacube and Test
      run: |
        docker-compose up -d
        docker-compose exec -T sandbox ./dea-notebooks/Tests/setup_test_datacube.sh
        docker-compose exec -T sandbox ./dea-notebooks/Tests/test_notebooks.sh

#    - name: Setup upterm session
#      uses: lhotari/action-upterm@v1
